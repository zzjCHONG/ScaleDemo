<Window
    x:Class="WpfApp3.Shell"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:WpfApp3"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="Shell"
    Width="800"
    Height="450"
    mc:Ignorable="d">

    <DockPanel Margin="10">
        <!--  左侧功能面板  -->
        <StackPanel
            Width="200"
            Margin="0,0,10,0"
            DockPanel.Dock="Left">
            <TextBlock
                Margin="0,0,0,5"
                FontWeight="Bold"
                Text="位置选择" />
            <ComboBox
                x:Name="CmbPosition"
                Margin="0,0,0,10"
                SelectedIndex="0">
                <ComboBoxItem Content="四角" />
                <ComboBoxItem Content="ROI" />
            </ComboBox>

            <TextBlock
                Margin="0,0,0,5"
                FontWeight="Bold"
                Text="显示比例尺：" />
            <CheckBox
                x:Name="ChkShowHorizontal"
                Checked="ScaleChanged"
                Content="水平比例尺"
                IsChecked="True"
                Unchecked="ScaleChanged" />
            <CheckBox
                x:Name="ChkShowVertical"
                Checked="ScaleChanged"
                Content="垂直比例尺"
                IsChecked="True"
                Unchecked="ScaleChanged" />
            <CheckBox
                x:Name="ChkAutoFit"
                Checked="AutoFitChanged"
                Content="自动适应图像大小"
                IsChecked="True"
                Unchecked="AutoFitChanged" />
        </StackPanel>

        <!--  图像显示区  -->
        <Grid x:Name="ImageContainer" Background="Black">
            <Image x:Name="MainImage" Stretch="Uniform" />

            <!--  水平比例尺  -->
            <Border
                x:Name="HorizontalScale"
                Height="20"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Bottom"
                Background="Black"
                Opacity="0.7"
                Visibility="Visible">
                <TextBlock
                    HorizontalAlignment="Center"
                    Foreground="White"
                    Text="水平比例尺" />
            </Border>

            <!--  垂直比例尺  -->
            <Border
                x:Name="VerticalScale"
                Width="20"
                HorizontalAlignment="Right"
                VerticalAlignment="Stretch"
                Background="Black"
                Opacity="0.7"
                Visibility="Visible">
                <TextBlock
                    VerticalAlignment="Center"
                    Foreground="White"
                    Text="垂直比例尺"
                    TextAlignment="Center" />
            </Border>

            <!--  ROI/四角标识  -->
            <Border
                x:Name="PositionOverlay"
                Background="Transparent"
                BorderBrush="Red"
                BorderThickness="2"
                Visibility="Visible" />
        </Grid>
    </DockPanel>
</Window>
