<UserControl
    x:Class="WpfDemoApp.Views.ScaleBarSettingsControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:converters="clr-namespace:WpfDemoApp.Converters"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:WpfDemoApp.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="clr-namespace:WpfDemoApp.ViewModels"
    d:DataContext="{d:DesignInstance Type=vm:ScaleBarSettingsViewModel,
                                     IsDesignTimeCreatable=True}"
    d:DesignHeight="700"
    d:DesignWidth="300"
    mc:Ignorable="d">

    <UserControl.Resources>
        <converters:VisibilityToBooleanConverter x:Key="VisibilityToBooleanConverter" />
        <converters:BrushToBoolConverter x:Key="BrushToBoolConverter" />
    </UserControl.Resources>

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="10">
            <TextBlock
                Margin="0,0,0,10"
                FontSize="16"
                FontWeight="Bold"
                Text="比例尺设置" />

            <CheckBox
                Margin="0,5"
                Content="比例尺可见"
                IsChecked="{Binding IsScaleBarVisible}" />

            <GroupBox Margin="0,10,0,0" Header="通用设置">
                <StackPanel Margin="5">
                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <TextBlock VerticalAlignment="Center" Text="字体大小:" />
                        <TextBox
                            Grid.Column="1"
                            Margin="5,0,0,0"
                            Text="{Binding FontSize, UpdateSourceTrigger=PropertyChanged}" />
                    </Grid>
                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <TextBlock VerticalAlignment="Center" Text="线条宽度:" />
                        <TextBox
                            Grid.Column="1"
                            Margin="5,0,0,0"
                            Text="{Binding LineWidth, UpdateSourceTrigger=PropertyChanged}" />
                    </Grid>
                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <TextBlock VerticalAlignment="Center" Text="字体颜色:" />
                        <ComboBox
                            Grid.Column="1"
                            Margin="5,0,0,0"
                            SelectedValue="{Binding TextBrush, UpdateSourceTrigger=PropertyChanged}">
                            <ComboBox.Resources>
                                <SolidColorBrush x:Key="WhiteBrush" Color="White" />
                                <SolidColorBrush x:Key="BlackBrush" Color="Black" />
                                <SolidColorBrush x:Key="RedBrush" Color="Red" />
                                <SolidColorBrush x:Key="BlueBrush" Color="Blue" />
                            </ComboBox.Resources>
                            <ComboBoxItem
                                Content="白色"
                                IsSelected="{Binding TextBrush, Converter={StaticResource BrushToBoolConverter}, ConverterParameter={StaticResource WhiteBrush}}"
                                Tag="{StaticResource WhiteBrush}" />
                            <ComboBoxItem
                                Content="黑色"
                                IsSelected="{Binding TextBrush, Converter={StaticResource BrushToBoolConverter}, ConverterParameter={StaticResource BlackBrush}}"
                                Tag="{StaticResource BlackBrush}" />
                            <ComboBoxItem
                                Content="红色"
                                IsSelected="{Binding TextBrush, Converter={StaticResource BrushToBoolConverter}, ConverterParameter={StaticResource RedBrush}}"
                                Tag="{StaticResource RedBrush}" />
                            <ComboBoxItem
                                Content="蓝色"
                                IsSelected="{Binding TextBrush, Converter={StaticResource BrushToBoolConverter}, ConverterParameter={StaticResource BlueBrush}}"
                                Tag="{StaticResource BlueBrush}" />
                            <!--  更多颜色可以添加  -->
                        </ComboBox>
                    </Grid>
                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <TextBlock VerticalAlignment="Center" Text="背景颜色:" />
                        <ComboBox
                            Grid.Column="1"
                            Margin="5,0,0,0"
                            SelectedValue="{Binding BackgroundBrush, UpdateSourceTrigger=PropertyChanged}">
                            <ComboBox.Resources>
                                <SolidColorBrush x:Key="GrayBrush" Color="Gray" />
                                <SolidColorBrush x:Key="TransparentBrush" Color="Transparent" />
                                <SolidColorBrush x:Key="LightGrayBrush" Color="LightGray" />
                            </ComboBox.Resources>
                            <ComboBoxItem
                                Content="灰色"
                                IsSelected="{Binding BackgroundBrush, Converter={StaticResource BrushToBoolConverter}, ConverterParameter={StaticResource GrayBrush}}"
                                Tag="{StaticResource GrayBrush}" />
                            <ComboBoxItem
                                Content="透明"
                                IsSelected="{Binding BackgroundBrush, Converter={StaticResource BrushToBoolConverter}, ConverterParameter={StaticResource TransparentBrush}}"
                                Tag="{StaticResource TransparentBrush}" />
                            <ComboBoxItem
                                Content="浅灰"
                                IsSelected="{Binding BackgroundBrush, Converter={StaticResource BrushToBoolConverter}, ConverterParameter={StaticResource LightGrayBrush}}"
                                Tag="{StaticResource LightGrayBrush}" />
                        </ComboBox>
                    </Grid>
                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <TextBlock VerticalAlignment="Center" Text="字体粗细:" />
                        <ComboBox
                            Grid.Column="1"
                            Margin="5,0,0,0"
                            SelectedValue="{Binding FontWeight, UpdateSourceTrigger=PropertyChanged}">
                            <ComboBoxItem Content="正常" Tag="{x:Static FontWeights.Normal}" />
                            <ComboBoxItem Content="粗体" Tag="{x:Static FontWeights.Bold}" />
                            <ComboBoxItem Content="细体" Tag="{x:Static FontWeights.Light}" />
                        </ComboBox>
                    </Grid>
                    <CheckBox
                        Margin="0,5"
                        Content="显示字体"
                        IsChecked="{Binding FontVisibility, Converter={StaticResource VisibilityToBooleanConverter}}" />
                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <TextBlock VerticalAlignment="Center" Text="字体类型:" />
                        <TextBox
                            Grid.Column="1"
                            Margin="5,0,0,0"
                            Text="{Binding FontFamily, UpdateSourceTrigger=PropertyChanged}" />
                    </Grid>
                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <TextBlock VerticalAlignment="Center" Text="摆放位置:" />
                        <ComboBox
                            Grid.Column="1"
                            Margin="5,0,0,0"
                            SelectedValue="{Binding Position, UpdateSourceTrigger=PropertyChanged}">
                            <ComboBoxItem Content="左上" />
                            <ComboBoxItem Content="右上" />
                            <ComboBoxItem Content="左下" />
                            <ComboBoxItem Content="右下" />
                        </ComboBox>
                    </Grid>
                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <TextBlock VerticalAlignment="Center" Text="绘制模式:" />
                        <ComboBox
                            Grid.Column="1"
                            Margin="5,0,0,0"
                            SelectedValue="{Binding DrawMode, UpdateSourceTrigger=PropertyChanged}">
                            <ComboBoxItem Content="水平" />
                            <ComboBoxItem Content="竖直" />
                            <ComboBoxItem Content="共存" />
                        </ComboBox>
                    </Grid>
                </StackPanel>
            </GroupBox>

            <CheckBox
                Margin="0,10,0,5"
                Content="已设置比例尺模式"
                IsChecked="{Binding IsSetScaleMode}" />

            <GroupBox
                Margin="0,0,0,0"
                Header="比例尺模式设置"
                IsEnabled="{Binding IsSetScaleMode}">
                <StackPanel Margin="5">
                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <TextBlock VerticalAlignment="Center" Text="横向数值(单位):" />
                        <TextBox
                            Grid.Column="1"
                            Margin="5,0,0,0"
                            Text="{Binding WidthinUnit, UpdateSourceTrigger=PropertyChanged}" />
                    </Grid>
                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <TextBlock VerticalAlignment="Center" Text="纵向数值(单位):" />
                        <TextBox
                            Grid.Column="1"
                            Margin="5,0,0,0"
                            Text="{Binding HeightinUnit, UpdateSourceTrigger=PropertyChanged}" />
                    </Grid>
                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <TextBlock VerticalAlignment="Center" Text="比例尺(像素/单位):" />
                        <TextBox
                            Grid.Column="1"
                            Margin="5,0,0,0"
                            Text="{Binding Scale, UpdateSourceTrigger=PropertyChanged}" />
                    </Grid>
                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <TextBlock VerticalAlignment="Center" Text="像素宽高比:" />
                        <TextBox
                            Grid.Column="1"
                            Margin="5,0,0,0"
                            Text="{Binding PixelAspectRatio, UpdateSourceTrigger=PropertyChanged}" />
                    </Grid>
                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <TextBlock VerticalAlignment="Center" Text="单位:" />
                        <TextBox
                            Grid.Column="1"
                            Margin="5,0,0,0"
                            Text="{Binding Unit, UpdateSourceTrigger=PropertyChanged}" />
                    </Grid>
                </StackPanel>
            </GroupBox>

            <GroupBox
                Margin="0,10,0,0"
                Header="未设置比例尺模式设置"
                IsEnabled="{Binding !IsSetScaleMode}">
                <StackPanel Margin="5">
                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <TextBlock VerticalAlignment="Center" Text="横向长度(像素):" />
                        <TextBox
                            Grid.Column="1"
                            Margin="5,0,0,0"
                            Text="{Binding ScaleLengthWidth, UpdateSourceTrigger=PropertyChanged}" />
                    </Grid>
                    <Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <TextBlock VerticalAlignment="Center" Text="纵向长度(像素):" />
                        <TextBox
                            Grid.Column="1"
                            Margin="5,0,0,0"
                            Text="{Binding ScaleLengthHeight, UpdateSourceTrigger=PropertyChanged}" />
                    </Grid>
                </StackPanel>
            </GroupBox>
        </StackPanel>
    </ScrollViewer>
</UserControl>
