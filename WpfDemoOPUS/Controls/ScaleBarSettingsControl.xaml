<UserControl
    x:Class="WpfDemoOPUS.Controls.ScaleBarSettingsControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:WpfDemoOPUS.Controls"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DesignHeight="850"
    d:DesignWidth="400"
    mc:Ignorable="d">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="10">
            <GroupBox Margin="0,5" Header="基本设置">
                <StackPanel Margin="5">
                    <CheckBox
                        Margin="0,3"
                        Content="显示比例尺"
                        IsChecked="{Binding IsScaleBarVisible}" />
                    <CheckBox
                        Margin="0,3"
                        Content="设置比例尺模式"
                        IsChecked="{Binding IsSetScaleMode}" />
                    <CheckBox
                        Margin="0,3"
                        Content="显示文字"
                        IsChecked="{Binding ShowFont}" />
                </StackPanel>
            </GroupBox>

            <GroupBox Margin="0,5" Header="位置与模式">
                <Grid Margin="5">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="80" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                    </Grid.RowDefinitions>

                    <TextBlock
                        Grid.Row="0"
                        VerticalAlignment="Center"
                        Text="位置:" />
                    <ComboBox
                        Grid.Row="0"
                        Grid.Column="1"
                        Margin="5,2"
                        SelectedItem="{Binding Position}">
                        <ComboBoxItem>左上</ComboBoxItem>
                        <ComboBoxItem>右上</ComboBoxItem>
                        <ComboBoxItem>左下</ComboBoxItem>
                        <ComboBoxItem>右下</ComboBoxItem>
                    </ComboBox>

                    <TextBlock
                        Grid.Row="1"
                        VerticalAlignment="Center"
                        Text="绘制模式:" />
                    <ComboBox
                        Grid.Row="1"
                        Grid.Column="1"
                        Margin="5,2"
                        SelectedItem="{Binding DrawMode}">
                        <ComboBoxItem>水平</ComboBoxItem>
                        <ComboBoxItem>竖直</ComboBoxItem>
                        <ComboBoxItem>共存</ComboBoxItem>
                    </ComboBox>
                </Grid>
            </GroupBox>

            <GroupBox Margin="0,5" Header="尺寸设置（像素模式）">
                <GroupBox.Style>
                    <Style TargetType="GroupBox">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding IsSetScaleMode}" Value="True">
                                <Setter Property="IsEnabled" Value="False" />
                                <Setter Property="Opacity" Value="0.5" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </GroupBox.Style>
                <Grid Margin="5">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="80" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="50" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                    </Grid.RowDefinitions>

                    <TextBlock
                        Grid.Row="0"
                        VerticalAlignment="Center"
                        Text="横向长度:" />
                    <Slider
                        Grid.Row="0"
                        Grid.Column="1"
                        Margin="5,0"
                        IsSnapToTickEnabled="True"
                        Maximum="200"
                        Minimum="10"
                        TickFrequency="10"
                        Value="{Binding ScaleLengthWidth}" />
                    <TextBlock
                        Grid.Row="0"
                        Grid.Column="2"
                        VerticalAlignment="Center"
                        Text="{Binding ScaleLengthWidth}" />

                    <TextBlock
                        Grid.Row="1"
                        VerticalAlignment="Center"
                        Text="纵向长度:" />
                    <Slider
                        Grid.Row="1"
                        Grid.Column="1"
                        Margin="5,0"
                        IsSnapToTickEnabled="True"
                        Maximum="200"
                        Minimum="10"
                        TickFrequency="10"
                        Value="{Binding ScaleLengthHeight}" />
                    <TextBlock
                        Grid.Row="1"
                        Grid.Column="2"
                        VerticalAlignment="Center"
                        Text="{Binding ScaleLengthHeight}" />
                </Grid>
            </GroupBox>

            <GroupBox Margin="0,5" Header="比例尺设置（单位模式）">
                <GroupBox.Style>
                    <Style TargetType="GroupBox">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding IsSetScaleMode}" Value="False">
                                <Setter Property="IsEnabled" Value="False" />
                                <Setter Property="Opacity" Value="0.5" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </GroupBox.Style>
                <Grid Margin="5">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="80" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                    </Grid.RowDefinitions>

                    <TextBlock
                        Grid.Row="0"
                        VerticalAlignment="Center"
                        Text="单位:" />
                    <ComboBox
                        Grid.Row="0"
                        Grid.Column="1"
                        Margin="5,2"
                        IsEditable="True"
                        Text="{Binding Unit}">
                        <ComboBoxItem>μm</ComboBoxItem>
                        <ComboBoxItem>mm</ComboBoxItem>
                        <ComboBoxItem>cm</ComboBoxItem>
                        <ComboBoxItem>nm</ComboBoxItem>
                        <ComboBoxItem>pixel</ComboBoxItem>
                    </ComboBox>

                    <TextBlock
                        Grid.Row="1"
                        VerticalAlignment="Center"
                        Text="横向数值:" />
                    <TextBox
                        Grid.Row="1"
                        Grid.Column="1"
                        Margin="5,2"
                        Text="{Binding WidthinUnit}" />

                    <TextBlock
                        Grid.Row="2"
                        VerticalAlignment="Center"
                        Text="纵向数值:" />
                    <TextBox
                        Grid.Row="2"
                        Grid.Column="1"
                        Margin="5,2"
                        Text="{Binding HeightinUnit}" />

                    <TextBlock
                        Grid.Row="3"
                        VerticalAlignment="Center"
                        Text="比例尺:" />
                    <TextBox
                        Grid.Row="3"
                        Grid.Column="1"
                        Margin="5,2"
                        Text="{Binding Scale}" />

                    <TextBlock
                        Grid.Row="4"
                        VerticalAlignment="Center"
                        Text="宽高比:" />
                    <TextBox
                        Grid.Row="4"
                        Grid.Column="1"
                        Margin="5,2"
                        Text="{Binding PixelAspectRatio}" />
                </Grid>
            </GroupBox>

            <GroupBox Margin="0,5" Header="样式设置">
                <Grid Margin="5">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="80" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="50" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                    </Grid.RowDefinitions>

                    <TextBlock
                        Grid.Row="0"
                        VerticalAlignment="Center"
                        Text="字体大小:" />
                    <Slider
                        Grid.Row="0"
                        Grid.Column="1"
                        Margin="5,0"
                        IsSnapToTickEnabled="True"
                        Maximum="30"
                        Minimum="8"
                        TickFrequency="1"
                        Value="{Binding FontSize}" />
                    <TextBlock
                        Grid.Row="0"
                        Grid.Column="2"
                        VerticalAlignment="Center"
                        Text="{Binding FontSize}" />

                    <TextBlock
                        Grid.Row="1"
                        VerticalAlignment="Center"
                        Text="线条宽度:" />
                    <Slider
                        Grid.Row="1"
                        Grid.Column="1"
                        Margin="5,0"
                        IsSnapToTickEnabled="True"
                        Maximum="10"
                        Minimum="1"
                        TickFrequency="1"
                        Value="{Binding LineWidth}" />
                    <TextBlock
                        Grid.Row="1"
                        Grid.Column="2"
                        VerticalAlignment="Center"
                        Text="{Binding LineWidth}" />

                    <TextBlock
                        Grid.Row="2"
                        VerticalAlignment="Center"
                        Text="字体:" />
                    <ComboBox
                        Grid.Row="2"
                        Grid.Column="1"
                        Grid.ColumnSpan="2"
                        Margin="5,2"
                        IsEditable="True"
                        Text="{Binding FontFamily}">
                        <ComboBoxItem>Arial</ComboBoxItem>
                        <ComboBoxItem>Calibri</ComboBoxItem>
                        <ComboBoxItem>Times New Roman</ComboBoxItem>
                        <ComboBoxItem>微软雅黑</ComboBoxItem>
                    </ComboBox>

                    <TextBlock
                        Grid.Row="3"
                        VerticalAlignment="Center"
                        Text="文字颜色:" />
                    <ComboBox
                        Grid.Row="3"
                        Grid.Column="1"
                        Grid.ColumnSpan="2"
                        Margin="5,2"
                        SelectedItem="{Binding TextColor}">
                        <ComboBoxItem>White</ComboBoxItem>
                        <ComboBoxItem>Black</ComboBoxItem>
                        <ComboBoxItem>Red</ComboBoxItem>
                        <ComboBoxItem>Yellow</ComboBoxItem>
                        <ComboBoxItem>Green</ComboBoxItem>
                        <ComboBoxItem>Blue</ComboBoxItem>
                    </ComboBox>

                    <TextBlock
                        Grid.Row="4"
                        VerticalAlignment="Center"
                        Text="背景颜色:" />
                    <ComboBox
                        Grid.Row="4"
                        Grid.Column="1"
                        Grid.ColumnSpan="2"
                        Margin="5,2"
                        SelectedItem="{Binding BackgroundColor}">
                        <ComboBoxItem>Gray</ComboBoxItem>
                        <ComboBoxItem>Black</ComboBoxItem>
                        <ComboBoxItem>White</ComboBoxItem>
                        <ComboBoxItem>Transparent</ComboBoxItem>
                    </ComboBox>
                </Grid>
            </GroupBox>

            <GroupBox Margin="0,5" Header="缩放设置">
                <Grid Margin="5">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="80" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="50" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                    </Grid.RowDefinitions>

                    <TextBlock
                        Grid.Row="0"
                        VerticalAlignment="Center"
                        Text="最小缩放:" />
                    <Slider
                        Grid.Row="0"
                        Grid.Column="1"
                        Margin="5,0"
                        IsSnapToTickEnabled="True"
                        Maximum="1"
                        Minimum="0.1"
                        TickFrequency="0.1"
                        Value="{Binding MinScale}" />
                    <TextBlock
                        Grid.Row="0"
                        Grid.Column="2"
                        VerticalAlignment="Center"
                        Text="{Binding MinScale, StringFormat='{}{0:F1}'}" />

                    <TextBlock
                        Grid.Row="1"
                        VerticalAlignment="Center"
                        Text="最大缩放:" />
                    <Slider
                        Grid.Row="1"
                        Grid.Column="1"
                        Margin="5,0"
                        IsSnapToTickEnabled="True"
                        Maximum="20"
                        Minimum="1"
                        TickFrequency="1"
                        Value="{Binding MaxScale}" />
                    <TextBlock
                        Grid.Row="1"
                        Grid.Column="2"
                        VerticalAlignment="Center"
                        Text="{Binding MaxScale, StringFormat='{}{0:F1}'}" />

                    <TextBlock
                        Grid.Row="2"
                        VerticalAlignment="Center"
                        Text="拖拽灵敏度:" />
                    <Slider
                        Grid.Row="2"
                        Grid.Column="1"
                        Margin="5,0"
                        IsSnapToTickEnabled="True"
                        Maximum="3"
                        Minimum="0.5"
                        TickFrequency="0.1"
                        Value="{Binding PanSensitivity}" />
                    <TextBlock
                        Grid.Row="2"
                        Grid.Column="2"
                        VerticalAlignment="Center"
                        Text="{Binding PanSensitivity, StringFormat='{}{0:F1}'}" />
                </Grid>
            </GroupBox>
        </StackPanel>
    </ScrollViewer>
</UserControl>
